{% extends 'base.html' %}
{% block content %}

<!-- MENU DO ESTUDANTE -->
<div style="margin-bottom: 20px;">
    <a href="{% url 'editar_perfil' %}">
        <button style="background-color: #007bff; color: white; padding: 8px 12px; border: none; border-radius: 4px; cursor: pointer;">
            Editar Perfil
        </button>
    </a>

    <a href="{% url 'ver_perfil' %}">
        <button style="background-color: #17a2b8; color: white; padding: 8px 12px; border: none; border-radius: 4px; cursor: pointer;">
            Ver Perfil
        </button>
    </a>

    <a href="{% url 'login' %}">
        <button style="background-color: #6c757d; color: white; padding: 8px 12px; border: none; border-radius: 4px; cursor: pointer;">
            Voltar
        </button>
    </a>

    <a href="{% url 'logout' %}">
        <button style="background-color: #dc3545; color: white; padding: 8px 12px; border: none; border-radius: 4px; cursor: pointer;">
            Sair
        </button>
    </a>
</div>

<h1 style="color: #007bff;">Área do Estudante</h1>

<h2 style="margin-top: 30px;">Projetos que você participa</h2>
<table border="1" cellpadding="5" cellspacing="0" style="border-collapse: collapse; width: 100%;">
    <tr style="background-color: #f2f2f2;">
        <th>Título</th>
        <th>Cliente</th>
        <th>Status</th>
        <th>Professor Responsável</th>
    </tr>
    {% for projeto in projetos %}
    <tr>
        <td>{{ projeto.titulo }}</td>
        <td>{{ projeto.cliente }}</td>
        <td>{{ projeto.status }}</td>
        <td>{{ projeto.professor_responsavel.username }}</td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="4" style="text-align: center;">Você não participa de nenhum projeto.</td>
    </tr>
    {% endfor %}
</table>

<h2 style="margin-top: 30px;">Equipes que você participa</h2>
<table border="1" cellpadding="5" cellspacing="0" style="border-collapse: collapse; width: 100%;">
    <tr style="background-color: #f2f2f2;">
        <th>Nome da Equipe</th>
        <th>Projeto</th>
        <th>Líder</th>
    </tr>
    {% for equipe in equipes %}
    <tr>
        <td>{{ equipe.nome }}</td>
        <td>{{ equipe.projeto.titulo }}</td>
        <td>{{ equipe.lider.username }}</td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="3" style="text-align: center;">Você não participa de nenhuma equipe.</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
