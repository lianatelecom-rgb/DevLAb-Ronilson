{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Home - DevLab</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
        /* Fundo da página */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: url("{% static 'img/fundo.jpg' %}") no-repeat center center fixed;
            background-size: cover;
            color: white; /* texto visível sobre a imagem */
        }

        /* Header com DevLab chamativo */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background-color: transparent;
            color: white;
        }

        .logo {
            font-size: 48px;
            font-weight: bold;
            flex: 1;
            text-align: center;
            color: #5999f2ff; /* azul chamativo */
            text-shadow: 2px 2px 8px rgba(240, 230, 230, 0.7); /* sombra */
        }

        nav a {
            color: white;
            text-decoration: none;
            margin-left: 20px;
            font-weight: bold;
        }

        nav a:hover {
            text-decoration: underline;
        }

        /* Usuário autenticado em azul */
        .user-nav {
            color: #3498db; /* azul */
            font-weight: bold;
        }

        .user-nav a {
            color: #3498db;
            text-decoration: none;
        }

        .user-nav a:hover {
            text-decoration: underline;
        }

        main {
            padding: 30px;
        }

        .search-box {
            margin-bottom: 25px;
        }

        input[type="text"] {
            padding: 10px;
            width: 300px;
            border-radius: 4px;
            border: 1px solid #100101ff;
        }

        button {
            padding: 10px 15px;
            border: none;
            background-color: #170aaaff;
            color: white;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #f0f1f7ff;
        }

        .projects, .users {
            margin-top: 30px;
        }

        .projects ul, .users ul {
            list-style: none;
            padding: 0;
        }

        .projects li, .users li {
            background: rgba(0,0,0,0.4);
            padding: 12px 15px;
            margin-bottom: 10px;
            border-left: 4px solid #2008f6ff;
            border-radius: 4px;
        }

        h2, h3 {
            color: white;
            margin-bottom: 10px;
        }

        footer {
            background-color: transparent;
            color: white;
            text-align: center;
            padding: 15px 0;
            position: fixed;
            width: 100%;
            bottom: 0;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">Sistema Escolar DevLab</div>
        <nav>
            {% if user.is_authenticated %}
                <span class="user-nav">
                    Olá, {{ user.username }} |
                    <a href="{% url 'admin:index' %}">Admin</a> |
                    <a href="{% url 'logout' %}">Sair</a>
                </span>
            {% else %}
                <a href="{% url 'login' %}">Login</a>
            {% endif %}
        </nav>
    </header>

    <main>
        <h2>Painel Inicial</h2>

        <!-- Caixa de busca -->
        <div class="search-box">
            <form method="GET">
                <input type="text" name="q" placeholder="Buscar projetos ou usuários" value="{{ request.GET.q }}">
                <button type="submit">Buscar</button>
            </form>
        </div>

        <!-- Lista de Projetos -->
        <div class="projects">
            <h3>Projetos</h3>
            <ul>
                {% for projeto in projetos %}
                    <li>
                        <strong>{{ projeto.titulo }}</strong><br>
                        Cliente: {{ projeto.cliente }}<br>
                        Status: {{ projeto.status }}
                    </li>
                {% empty %}
                    <li>Nenhum projeto encontrado.</li>
                {% endfor %}
            </ul>
        </div>

        <!-- Lista de Usuários -->
        <div class="users">
            <h3>Usuários</h3>
            <ul>
                {% for usuario in usuarios %}
                    <li>
                        <strong>{{ usuario.username }}</strong><br>
                        Curso: {{ usuario.curso }}
                    </li>
                {% empty %}
                    <li>Nenhum usuário encontrado.</li>
                {% endfor %}
            </ul>
        </div>
    </main>

    <footer>
        © 2025 DevLab - Todos os direitos reservados
    </footer>
</body>
</html>
